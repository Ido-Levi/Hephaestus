"""Epic forge ASCII art for Hephaestus."""

from textual.app import ComposeResult
from textual.widgets import Static
from rich.text import Text
from rich.panel import Panel
from rich.align import Align


FORGE_ASCII = """
              ╔═══════════════════════════════════════════════╗
              ║          H E P H A E S T U S                  ║
              ║          T H E   A I   F O R G E              ║
              ╚═══════════════════════════════════════════════╝


                            ___________________
                        ___/                   \\___
                    ___/    HORN (POINTED END)     \\___
                ___/                                   \\___
            ___/                                           \\___
        ___/_______________________________________________\\___
       /                                                       \\
      /    ═══════════════════════════════════════════════     \\
     |    ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓     |
     |   ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓    |
     |   ╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬    |
     |   ╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬    |
    /    |||||||||||||||||||||||||||||||||||||||||||||||||||    \\
   /     |||||||||||||||||||||||||||||||||||||||||||||||||||     \\
   |     |||||||||||||||||||||||||||||||||||||||||||||||||||     |
   |     |||||||||||||||||||||||||||||||||||||||||||||||||||     |
   |     |||||||||||||||||||||||||||||||||||||||||||||||||||     |
   |     ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓     |
   |     ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓     |
   |     ╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬     |
   |     ║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║     |
   |     ║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║     |
   |     ║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║     |
   |     ║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║     |
   |     ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓     |
   |     ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓     |
   |     ╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬     |
    \\    |||||||||||||||||||||||||||||||||||||||||||||||||||    /
     \\   |||||||||||||||||||||||||||||||||||||||||||||||||||   /
      \\  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓  /
       \\_______________________________________________________/
        \\                                                     /
         \\___________________________________________________/
          \\                                                 /
           \\_______________________________________________/
            |                                             |
            |     ═══════════════════════════════════     |
            |     ║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║     |
            |     ║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║     |
            |     ║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║     |
            |     ║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║║     |
            |     ╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬     |
            |     ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓     |
             \\_____________________________________________/
              |                                           |
              |    BASE (HEAVY FOUNDATION MASS)          |
              |___________________________________________|
"""


class ForgeArt(Static):
    """Widget displaying the epic forge ASCII art."""

    def __init__(self, status_text: str = "", **kwargs):
        super().__init__(**kwargs)
        self.status_text = status_text

    def render(self):
        """Render the forge art with optional status text."""
        art = Text(FORGE_ASCII, style="bold yellow")

        if self.status_text:
            art.append("\n\n")
            art.append(self.status_text, style="bold cyan")

        # Center the entire art block
        art.justify = "center"
        return Align.center(art, vertical="middle")

    def update_status(self, status: str):
        """Update the status text below the forge."""
        self.status_text = status
        self.refresh()
